<!DOCTYPE html><html lang="id"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Masuk â€” Animals Cash</title>
<link rel="stylesheet" href="./css/styles.css"/>
<style>.overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:9999}
.spin{width:72px;height:72px;border:6px solid rgba(255,255,255,.25);border-top-color:#fff;border-radius:999px;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}.tabbar{display:none !important}</style>
</head><body>
<div class="app">
  <header class="topbar"><div class="brand">PETERNAKAN HEWAN</div></header>
  <main class="content">
    <section class="card" style="max-width:460px;margin:0 auto">
      <h3>Masuk</h3>
      <div class="form">
        <input id="email" placeholder="Email" />
        <input id="pass" placeholder="Password" type="password" />
        <button class="btn ok" id="btnLogin">Masuk</button>
        <p class="muted">Belum punya akun? <a href="./register.html">Daftar</a></p>
      </div>
    </section>
  </main>
</div>
<div class="overlay" id="ov"><div class="spin"></div></div>
<script type="module">
import { getAuth, setPersistence, browserLocalPersistence, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { app } from "./shared/firebase.js";
const auth = getAuth(app);
await setPersistence(auth, browserLocalPersistence);
document.getElementById("btnLogin").addEventListener("click", async () => {
  const email = document.getElementById("email").value.trim();
  const pass = document.getElementById("pass").value;
  try{
    await signInWithEmailAndPassword(auth, email, pass);
    const ov = document.getElementById("ov"); ov.style.display="flex";
    setTimeout(()=> location.replace("./dashboard.html"), 5000);
  }catch(e){ alert(e.message); }
});
</script>
</body></html>