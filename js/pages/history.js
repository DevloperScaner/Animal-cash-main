import{boot}from"../app.js";import{requireLogin}from"../../shared/auth.js";import{auth,db,collection,query,where,orderBy,onSnapshot}from"../../shared/firebase.js";boot();await requireLogin();const O=document.getElementById("orders"),W=document.getElementById("withdraws");onSnapshot(query(collection(db,"orders"),where("uid","==",auth.currentUser.uid),orderBy("createdAt","desc")),e=>{O.innerHTML="",e.forEach(t=>{const o=t.data(),d=document.createElement("div");d.className="tile",d.innerHTML=`<div class="label">${o.product}</div><div class="badge">${o.status}</div>`,O.appendChild(d)})});onSnapshot(query(collection(db,"withdrawals"),where("uid","==",auth.currentUser.uid),orderBy("createdAt","desc")),e=>{W.innerHTML="",e.forEach(t=>{const o=t.data(),d=document.createElement("div");d.className="tile",d.innerHTML=`<div class="label">${t.data().method} â€¢ Rp${(o.amount||0).toLocaleString("id-ID")}</div><div class="badge">${o.status}</div>`,W.appendChild(d)})});