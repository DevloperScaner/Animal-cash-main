import{boot}from"../app.js";import{requireLogin}from"../../shared/auth.js";import{auth,db,collection,query,where,onSnapshot}from"../../shared/firebase.js";boot();await requireLogin();const a=document.getElementById("sumAssets"),t=document.getElementById("sumHold"),e=document.getElementById("sumAcc");onSnapshot(query(collection(db,"orders"),where("uid","==",auth.currentUser.uid),where("status","==","approved")),s=>{let o=0;s.forEach(r=>o+=(r.data().price||0)),a.textContent="Rp"+o.toLocaleString("id-ID")});onSnapshot(query(collection(db,"holdings"),where("uid","==",auth.currentUser.uid)),s=>{t.textContent=String(s.size),e.textContent=String(s.size)});document.getElementById("logout").addEventListener("click",()=>import("../../shared/firebase.js").then(({signOut,auth})=>signOut(auth).then(()=>location.href="login.html")));